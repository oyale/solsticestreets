"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[416],{4680:function(t,e,a){a.r(e);var s=a(885),c=a(2982),n=a(2472),r=a(795),i=a(6584),o=a(2471),l=a(1664),h=a(4256),d=(a(6538),a(9941),a(4542),a(5893));var u=function(t){(0,n.Sx)();var e=.9*t.width/2,a=Array.from(Array(36).keys()).map((function(t){var a=Math.PI/36*t,s=e*Math.cos(a),c=e*Math.sin(a);return(0,d.jsx)("line",{x1:-s,y1:-c,x2:s,y2:c},a)})),r={width:t.width,height:t.width+100},i=t.stats.street_histogram.map(Math.round);console.log(i);var o=Math.max.apply(Math,(0,c.Z)(i)),u=h.Z().domain([0,o]).range([0,e]),m=Math.PI/180,f=function(t,e){return[t*Math.cos(e-Math.PI/2),t*Math.sin(e-Math.PI/2)]},p=i.map((function(t,e){var a=u(t),s=e*m,c=f(a,s),n=f(a,s+m),r="M0,0 L".concat(c[0],",").concat(c[1]," L").concat(n[0],",").concat(n[1]," L").concat(-n[0],",").concat(-n[1]," L").concat(-c[0],",").concat(-c[1]," L0,0");return(0,d.jsx)("path",{d:r,id:"path_".concat(e)},e)}));console.log(t.stats);var x=t.stats.sun_azimuths.map((function(t,a){var c=f(e,t*Math.PI/180),n=(0,s.Z)(c,2),r=n[0],i=n[1];return(0,d.jsx)("line",{x1:-r,y1:-i,x2:r,y2:i,className:"azimuth_line sun_azimuth_".concat(a)},a)}));return(0,d.jsx)("div",{className:"leaflet-bottom leaflet-left",children:(0,d.jsxs)("div",{className:"leaflet-control leaflet-bar street-stats",style:r,children:[(0,d.jsxs)("h2",{children:[t.city.name,", ",t.city.country]}),(0,d.jsx)("svg",{width:t.width,height:t.width,children:(0,d.jsxs)("g",{transform:"translate(".concat(t.width/2,", ").concat(t.width/2,")"),children:[(0,d.jsxs)("g",{className:"base",children:[(0,d.jsx)("g",{className:"ticks",children:a}),(0,d.jsx)("circle",{className:"circle-p10",r:1*e,cx:0,cy:0}),(0,d.jsx)("circle",{className:"circle-p9",r:.9*e,cx:0,cy:0}),(0,d.jsx)("circle",{className:"circle-p05",r:.5*e,cx:0,cy:0})]}),(0,d.jsx)("g",{className:"streets",children:p}),(0,d.jsx)("g",{className:"sun_azimuths",children:x})]})}),(0,d.jsx)("p",{children:(0,d.jsx)(l.default,{href:"/",children:(0,d.jsx)("a",{children:"<< Back to the city list"})})})]})})};e.default=function(t){var e=[(t.info.bb[0][1]+t.info.bb[1][1])/2,(t.info.bb[0][0]+t.info.bb[1][0])/2],a=h.Z().domain([0,3]).range(["red","white"]),s=h.Z().domain([0,3]).range(["orange","white"]);return(0,d.jsxs)(r.h,{center:e,zoom:12,scrollWheelZoom:!0,style:{height:"100%",width:"100%"},children:[(0,d.jsx)(i.I,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),(0,d.jsx)(o.Q,{data:t.streets,style:function(t){return{color:(t.properties.slope<90?a:s)(t.properties.sun_diff)}},onEachFeature:function(t,e){var a=t.properties,s="difference from perfect alignment: ".concat(a.sun_diff.toPrecision(2)," degrees");a.name&&a.name.length>0&&(s="".concat(a.name,": ").concat(s)),e.bindTooltip(s)}}),(0,d.jsx)(u,{stats:t.stats,city:t.info,width:400})]})}}}]);