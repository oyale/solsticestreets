"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[416],{4680:function(t,e,a){a.r(e);var s=a(5893),c=a(186),n=a(972),r=a(2472),i=a(795),o=a(6584),l=a(2471),h=a(1664),d=a(4256);a(6538),a(9941),a(4542);var u=function(t){(0,r.Sx)();var e=.9*t.width/2,a=Array.from(Array(36).keys()).map((function(t){var a=Math.PI/36*t,c=e*Math.cos(a),n=e*Math.sin(a);return(0,s.jsx)("line",{x1:-c,y1:-n,x2:c,y2:n},a)})),i={width:t.width,height:t.width+100},o=t.stats.street_histogram.map(Math.round);console.log(o);var l=Math.max.apply(Math,(0,n.Z)(o)),u=d.Z().domain([0,l]).range([0,e]),m=Math.PI/180,f=function(t,e){return[t*Math.cos(e-Math.PI/2),t*Math.sin(e-Math.PI/2)]},p=o.map((function(t,e){var a=u(t),c=e*m,n=f(a,c),r=f(a,c+m),i="M0,0 L".concat(n[0],",").concat(n[1]," L").concat(r[0],",").concat(r[1]," L").concat(-r[0],",").concat(-r[1]," L").concat(-n[0],",").concat(-n[1]," L0,0");return(0,s.jsx)("path",{d:i,id:"path_".concat(e)},e)}));console.log(t.stats);var x=t.stats.sun_azimuths.map((function(t,a){var n=f(e,t*Math.PI/180),r=(0,c.Z)(n,2),i=r[0],o=r[1];return(0,s.jsx)("line",{x1:-i,y1:-o,x2:i,y2:o,className:"azimuth_line sun_azimuth_".concat(a)},a)}));return(0,s.jsx)("div",{className:"leaflet-bottom leaflet-left",children:(0,s.jsxs)("div",{className:"leaflet-control leaflet-bar street-stats",style:i,children:[(0,s.jsxs)("h2",{children:[t.city.name,", ",t.city.country]}),(0,s.jsx)("svg",{width:t.width,height:t.width,children:(0,s.jsxs)("g",{transform:"translate(".concat(t.width/2,", ").concat(t.width/2,")"),children:[(0,s.jsxs)("g",{className:"base",children:[(0,s.jsx)("g",{className:"ticks",children:a}),(0,s.jsx)("circle",{className:"circle-p10",r:1*e,cx:0,cy:0}),(0,s.jsx)("circle",{className:"circle-p9",r:.9*e,cx:0,cy:0}),(0,s.jsx)("circle",{className:"circle-p05",r:.5*e,cx:0,cy:0})]}),(0,s.jsx)("g",{className:"streets",children:p}),(0,s.jsx)("g",{className:"sun_azimuths",children:x})]})}),(0,s.jsx)("p",{children:(0,s.jsx)(h.default,{href:"/",children:(0,s.jsx)("a",{children:"<< Back to the city list"})})})]})})};e.default=function(t){var e=[(t.info.bb[0][1]+t.info.bb[1][1])/2,(t.info.bb[0][0]+t.info.bb[1][0])/2],a=d.Z().domain([0,3]).range(["red","white"]),c=d.Z().domain([0,3]).range(["orange","white"]);return(0,s.jsxs)(i.h,{center:e,zoom:12,scrollWheelZoom:!0,style:{height:"100%",width:"100%"},children:[(0,s.jsx)(o.I,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),(0,s.jsx)(l.Q,{data:t.streets,style:function(t){return{color:(t.properties.slope<90?a:c)(t.properties.sun_diff)}},onEachFeature:function(t,e){var a=t.properties,s="difference from perfect alignment: ".concat(a.sun_diff.toPrecision(2)," degrees");a.name&&a.name.length>0&&(s="".concat(a.name,": ").concat(s)),e.bindTooltip(s)}}),(0,s.jsx)(u,{stats:t.stats,city:t.info,width:400})]})}}}]);